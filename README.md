# Sage-weave

Sage-weave provides a framework for mixing text and
[Sage](http://www.sagemath.org/) code for automatic document generation,
similar to [Sweave](https://www.statistik.lmu.de/~leisch/Sweave/) for
the R language.

Sage-weave allows you to create a single source file that contains both
LaTeX text and Sage code. These are then 'woven' into a final LaTeX document
containing the original text together with the output of calculations and/or
graphics generated by Sage. This done by running the Sage code through Sage.

This is useful for re-generate reports if the input data change and documents
the code to reproduce the analysis in the same file that also contains
the report.

The Sage code of the complete analysis is embedded into a LaTeX document.

### Usage
Usage is quite simple. Just download the `weave.sage` script, and start
using it. The workflow consists of two steps. The first step is to run
Sage-weave on an input `.Snw` file (see `demo/`). This runs the Sage code
inside the given `.Snw` file and produces LaTeX output. The second step
is to compile this LaTeX output with your favorite LaTeX interpreter,
e.g., `pdflatex`.

For example:

```shell
$ weave.sage input.Snw > input.tex
$ pdflatex input.tex
```

### Example
`.Snw` files are plain LaTeX files, with a little bit of extra syntax mixed in.
Anything between the lines `<<>>=` and `@` is interpreted as Sage code. Any
output from this Sage code goes directly into the LaTeX output. For shorter
expressions, the `\sageexpr` LaTeX command can be used: the Sage expression
within the curly braces is evaluated and represented as LaTeX output.

For example, the following `.Snw` file:

```latex
\documentclass{article}

<<>>=
x, b, c = var('x b c')
sol = solve([x^2 + b*x + c == 0], x)
@

\begin{document}
Solutions: $\sageexpr{sol[0]}$
and $\sageexpr{sol[1]}$.
\end{document}
```

results in the following LaTeX output:

```latex
\documentclass{article}

\begin{document}
Solutions: $x = -\frac{1}{2} \, b - \frac{1}{2} \, \sqrt{b^{2} - 4 \, c}$
and $x = -\frac{1}{2} \, b + \frac{1}{2} \, \sqrt{b^{2} - 4 \, c}$.
\end{document}
```

### Demonstration
See the `demo/` directory for a demonstration.


### Contributing
I'm happy with contributions!

